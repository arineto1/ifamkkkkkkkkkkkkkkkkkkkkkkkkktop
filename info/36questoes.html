<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz de Lógica de Programação - Estilo CEFETMINAS</title>
    <style>
        :root {
            --bg-color: #fcfcfc;
            --container-bg: #ffffff;
            --text-color: #2d3436;
            --primary-color: #0984e3;
            --secondary-color: #636e72;
            --border-color: #dfe6e9;
            --success-color: #27ae60;
            --error-color: #c0392b;
            --code-bg: #f4f4f4;
        }

        body {
            font-family: 'Segoe UI', Georgia, serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 850px;
            margin: 40px auto;
            padding: 40px;
            background-color: var(--container-bg);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            border-radius: 8px;
        }

        header {
            border-bottom: 2px solid var(--primary-color);
            margin-bottom: 40px;
            padding-bottom: 20px;
        }

        h1 {
            font-size: 1.8rem;
            color: var(--text-color);
            margin: 0;
        }

        p.subtitle {
            color: var(--secondary-color);
            font-size: 1rem;
        }

        .question-card {
            margin-bottom: 60px;
            padding-bottom: 30px;
            border-bottom: 1px solid var(--border-color);
        }

        .question-title {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 15px;
            display: block;
        }

        .code-block {
            background-color: var(--code-bg);
            padding: 15px;
            border-radius: 5px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 4px solid var(--secondary-color);
            white-space: pre;
        }

        .options-list {
            list-style: none;
            padding: 0;
            margin: 20px 0;
        }

        .option-item {
            margin-bottom: 12px;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            transition: background 0.2s;
            cursor: pointer;
            display: flex;
            align-items: flex-start;
        }

        .option-item:hover {
            background-color: #f1f2f6;
        }

        .option-item input {
            margin-right: 15px;
            margin-top: 5px;
        }

        .btn-submit {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
        }

        .btn-submit:hover {
            background-color: #0773c5;
        }

        /* Results Section */
        #results-area {
            display: none;
            margin-top: 40px;
            padding: 30px;
            background-color: #e3f2fd;
            border-radius: 8px;
            border: 1px solid #bbdefb;
        }

        .score-display {
            font-size: 1.5rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
        }

        .resolution-area {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: #fff;
            border-left: 5px solid var(--primary-color);
            font-size: 0.95rem;
        }

        .feedback {
            font-weight: bold;
            margin-top: 10px;
            display: none;
        }

        .feedback.correct { color: var(--success-color); }
        .feedback.wrong { color: var(--error-color); }

        .correct-answer-highlight {
            background-color: #d4edda !important;
            border-color: #c3e6cb !important;
        }

        .wrong-answer-highlight {
            background-color: #f8d7da !important;
            border-color: #f5c6cb !important;
        }

        @media (max-width: 600px) {
            .container {
                margin: 10px;
                padding: 20px;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>Simulado: Lógica de Programação</h1>
        <p class="subtitle">Estruturas de Dados: Vetores e Matrizes | Estilo Fundação CEFETMINAS</p>
    </header>

    <form id="quiz-form">
        <!-- Questão 1 -->
        <div class="question-card" data-q="1">
            <span class="question-title">Questão 1: Alocação de Memória e Eficiência</span>
            <p>Considere as assertivas sobre vetores e matrizes em linguagens estruturadas:</p>
            <p>I. A característica definidora de um vetor é a alocação em endereços contíguos, permitindo acesso O(1).<br>
            II. Inserção em posição arbitrária em um vetor denso exige deslocamento (shift), resultando em O(n).<br>
            III. Em Row-Major (C/C++), percorrer matriz iterando primeiramente pelas colunas é menos eficiente devido a cache misses.<br>
            IV. Vetores globais são alocados na Heap, enquanto locais são na região estática de dados.</p>
            
            <ul class="options-list">
                <li class="option-item"><input type="radio" name="q1" value="A"> A) I, II e III.</li>
                <li class="option-item"><input type="radio" name="q1" value="B"> B) I e IV.</li>
                <li class="option-item"><input type="radio" name="q1" value="C"> C) II, III e IV.</li>
                <li class="option-item"><input type="radio" name="q1" value="D"> D) I, II, III e IV.</li>
                <li class="option-item"><input type="radio" name="q1" value="E"> E) Apenas I e III.</li>
            </ul>
            <div class="feedback"></div>
            <div class="resolution-area" id="res-1"></div>
        </div>

        <!-- Questão 2 -->
        <div class="question-card" data-q="2">
            <span class="question-title">Questão 2: Aritmética de Índices em Matrizes</span>
            <p>Analise o algoritmo (N=6, matriz preenchida com valor 1 em todas as posições):</p>
            <div class="code-block">
para i de 1 ate N faca
  para j de 1 ate N faca
    se (i = j) entao SomaX <- SomaX + MAT[i,j] fim_se
    se (i + j = N + 1) entao SomaY <- SomaY + MAT[i,j] fim_se
  fim_para
fim_para</div>
            <ul class="options-list">
                <li class="option-item"><input type="radio" name="q2" value="A"> A) Diagonal principal (6) e diagonal secundária (6).</li>
                <li class="option-item"><input type="radio" name="q2" value="B"> B) Diagonal principal (6) e elementos acima da principal (15).</li>
                <li class="option-item"><input type="radio" name="q2" value="C"> C) Todos os elementos (36) e diagonal secundária (6).</li>
                <li class="option-item"><input type="radio" name="q2" value="D"> D) Diagonal secundária (6) e diagonal principal (6).</li>
                <li class="option-item"><input type="radio" name="q2" value="E"> E) O algoritmo entrará em loop infinito.</li>
            </ul>
            <div class="feedback"></div>
            <div class="resolution-area" id="res-2"></div>
        </div>

        <!-- Questão 3 -->
        <div class="question-card" data-q="3">
            <span class="question-title">Questão 3: Ordenação Bubble Sort</span>
            <p>Considere o vetor V = [45, 20, 30, 10, 50]. Qual o estado de V após a PRIMEIRA iteração completa do laço externo do Bubble Sort e o número de comparações?</p>
            <ul class="options-list">
                <li class="option-item"><input type="radio" name="q3" value="A"> A) [20, 30, 10, 45, 50]; Comparações: 4.</li>
                <li class="option-item"><input type="radio" name="q3" value="B"> B) [20, 30, 10, 45, 50]; Comparações: 5.</li>
                <li class="option-item"><input type="radio" name="q3" value="C"> C) [10, 20, 30, 45, 50]; Comparações: 4.</li>
                <li class="option-item"><input type="radio" name="q3" value="D"> D) [20, 10, 30, 45, 50]; Comparações: 3.</li>
                <li class="option-item"><input type="radio" name="q3" value="E"> E) [45, 20, 30, 10, 50]; Comparações: 4.</li>
            </ul>
            <div class="feedback"></div>
            <div class="resolution-area" id="res-3"></div>
        </div>

        <!-- Questão 4 -->
        <div class="question-card" data-q="4">
            <span class="question-title">Questão 4: Busca Binária</span>
            <p>Vetor com 1024 inteiros ordenados. Quantas comparações no pior caso e qual a pré-condição?</p>
            <ul class="options-list">
                <li class="option-item"><input type="radio" name="q4" value="A"> A) 1024 comparações; Vetor não precisa estar ordenado.</li>
                <li class="option-item"><input type="radio" name="q4" value="B"> B) 10 comparações; Vetor deve estar ordenado.</li>
                <li class="option-item"><input type="radio" name="q4" value="C"> C) 512 comparações; Vetor deve estar ordenado.</li>
                <li class="option-item"><input type="radio" name="q4" value="D"> D) 100 comparações; Vetor apenas positivos.</li>
                <li class="option-item"><input type="radio" name="q4" value="E"> E) 1 comparação; Vetor ordenado decrescente.</li>
            </ul>
            <div class="feedback"></div>
            <div class="resolution-area" id="res-4"></div>
        </div>

        <!-- Questão 5 -->
        <div class="question-card" data-q="5">
            <span class="question-title">Questão 5: Endereçamento de Matrizes</span>
            <p>Matriz M[4][3], int (4 bytes), Endereço Base = 2000. Qual o endereço de M[2][1]?</p>
            <ul class="options-list">
                <li class="option-item"><input type="radio" name="q5" value="A"> A) 2012</li>
                <li class="option-item"><input type="radio" name="q5" value="B"> B) 2024</li>
                <li class="option-item"><input type="radio" name="q5" value="C"> C) 2028</li>
                <li class="option-item"><input type="radio" name="q5" value="D"> D) 2032</li>
                <li class="option-item"><input type="radio" name="q5" value="E"> E) 2007</li>
            </ul>
            <div class="feedback"></div>
            <div class="resolution-area" id="res-5"></div>
        </div>

        <!-- Questão 6 -->
        <div class="question-card" data-q="6">
            <span class="question-title">Questão 6: Lógica em Vetores</span>
            <p>A=[10, 15, 20, 25, 30], B=[1, 2, 3, 4, 5]. Lógica: se (A[i]>18 AND B[i] ímpar) C[i]=A+B; senão C[i]=A-B. Vetor C?</p>
            <ul class="options-list">
                <li class="option-item"><input type="radio" name="q6" value="A"> A) [9, 13, 17, 21, 25]</li>
                <li class="option-item"><input type="radio" name="q6" value="B"> B) [11, 17, 23, 29, 35]</li>
                <li class="option-item"><input type="radio" name="q6" value="C"> C) [9, 13, 17, 21, 35]</li>
                <li class="option-item"><input type="radio" name="q6" value="D"> D) [9, 13, 23, 21, 35]</li>
                <li class="option-item"><input type="radio" name="q6" value="E"> E) [10, 15, 23, 25, 35]</li>
            </ul>
            <div class="feedback"></div>
            <div class="resolution-area" id="res-6"></div>
        </div>

        <!-- Questão 7 -->
        <div class="question-card" data-q="7">
            <span class="question-title">Questão 7: Multiplicação de Matrizes</span>
            <p>Instrução correta para o núcleo do laço da multiplicação C = A x B:</p>
            <ul class="options-list">
                <li class="option-item"><input type="radio" name="q7" value="A"> A) C[i,j] <- C[i,j] + A[i,k] * B[k,j]</li>
                <li class="option-item"><input type="radio" name="q7" value="B"> B) C[i,j] <- A[i,k] * B[k,j]</li>
                <li class="option-item"><input type="radio" name="q7" value="C"> C) C[i,j] <- C[i,j] + A[k,i] * B[j,k]</li>
                <li class="option-item"><input type="radio" name="q7" value="D"> D) C[i,j] <- C[i,j] + A[i,j] * B[j,i]</li>
                <li class="option-item"><input type="radio" name="q7" value="E"> E) C[i,j] <- A[i,k] + B[k,j]</li>
            </ul>
            <div class="feedback"></div>
            <div class="resolution-area" id="res-7"></div>
        </div>

        <!-- Questão 8 -->
        <div class="question-card" data-q="8">
            <span class="question-title">Questão 8: Matrizes Esparsas</span>
            <p>I. Matriz densa 10k x 10k é eficiente para economizar memória.<br>
            II. Estratégia COO reduz espaço de O(N²) para O(Z), onde Z é o nº de não nulos.<br>
            III. Representações compactas (CRS) têm lógica mais complexa de acesso direto.</p>
            <ul class="options-list">
                <li class="option-item"><input type="radio" name="q8" value="A"> A) I, apenas.</li>
                <li class="option-item"><input type="radio" name="q8" value="B) II, apenas."> B) II, apenas.</li>
                <li class="option-item"><input type="radio" name="q8" value="C"> C) II e III, apenas.</li>
                <li class="option-item"><input type="radio" name="q8" value="D"> D) I e III, apenas.</li>
                <li class="option-item"><input type="radio" name="q8" value="E"> E) I, II e III.</li>
            </ul>
            <div class="feedback"></div>
            <div class="resolution-area" id="res-8"></div>
        </div>

        <!-- Questão 9 -->
        <div class="question-card" data-q="9">
            <span class="question-title">Questão 9: Rotação Modular</span>
            <p>V = [10, 20, 30, 40, 50], N=5, K=2 (Direita). Qual o vetor resultante?</p>
            <ul class="options-list">
                <li class="option-item"><input type="radio" name="q9" value="A"> A) [30, 40, 50, 10, 20]</li>
                <li class="option-item"><input type="radio" name="q9" value="B"> B) [40, 50, 10, 20, 30]</li>
                <li class="option-item"><input type="radio" name="q9" value="C"> C) [10, 20, 30, 40, 50]</li>
                <li class="option-item"><input type="radio" name="q9" value="D"> D) [50, 40, 30, 20, 10]</li>
                <li class="option-item"><input type="radio" name="q9" value="E"> E) [20, 30, 40, 50, 10]</li>
            </ul>
            <div class="feedback"></div>
            <div class="resolution-area" id="res-9"></div>
        </div>

        <!-- Questão 10 -->
        <div class="question-card" data-q="10">
            <span class="question-title">Questão 10: Transposta In-place</span>
            <p>Algoritmo percorre i (0 a N-1) e j (0 a N-1) trocando M[i,j] por M[j,i]. Resultado?</p>
            <ul class="options-list">
                <li class="option-item"><input type="radio" name="q10" value="A"> A) A matriz transposta correta.</li>
                <li class="option-item"><input type="radio" name="q10" value="B"> B) A matriz identidade.</li>
                <li class="option-item"><input type="radio" name="q10" value="C"> C) A matriz M original (sem alterações).</li>
                <li class="option-item"><input type="radio" name="q10" value="D"> D) A matriz M com linhas invertidas.</li>
                <li class="option-item"><input type="radio" name="q10" value="E"> E) A matriz nula.</li>
            </ul>
            <div class="feedback"></div>
            <div class="resolution-area" id="res-10"></div>
        </div>

        <button type="submit" class="btn-submit">Finalizar Quiz e Ver Resoluções</button>
    </form>

    <div id="results-area">
        <div class="score-display" id="score-text"></div>
        <p style="text-align: center;">Confira abaixo a resolução detalhada de cada questão.</p>
    </div>
</div>

<script>
    const answers = {
        q1: 'A',
        q2: 'A',
        q3: 'A',
        q4: 'B',
        q5: 'C',
        q6: 'D',
        q7: 'A',
        q8: 'C',
        q9: 'B',
        q10: 'C'
    };

    const resolutions = {
        res1: "<b>Resolução:</b> As assertivas I, II e III são corretas. I descreve a contiguidade física e o acesso O(1). II explica o custo de deslocamento (shift) na inserção. III aborda o Row-Major e a localidade de referência (cache). A IV é falsa pois inverte os conceitos: globais ficam na área estática e locais na Pilha (Stack).",
        res2: "<b>Resolução:</b> A condição (i=j) define a <b>Diagonal Principal</b>. A condição (i+j=N+1) define a <b>Diagonal Secundária</b>. Como a matriz está preenchida com 1s, ambas as somas resultam em 6.",
        res3: "<b>Resolução:</b> Na primeira passagem (i=0), o Bubble Sort compara adjacentes e leva o maior para o fim. [45,20,30,10,50] -> 45 troca com 20, depois com 30, depois com 10. Ao chegar no 50, ele para. O estado final é [20, 30, 10, 45, 50] com 4 comparações.",
        res4: "<b>Resolução:</b> A Busca Binária tem complexidade logarítmica. log2(1024) = 10. O requisito fundamental é que o vetor esteja <b>ordenado</b>.",
        res5: "<b>Resolução:</b> Cálculo linear (Row-Major): Endereço = Base + ((Linha * TotalColunas) + Coluna) * Tamanho. 2000 + ((2 * 3) + 1) * 4 = 2000 + 7 * 4 = 2028.",
        res6: "<b>Resolução:</b> Para i=2, A[2]=20 (>18) e B[2]=3 (ímpar). Condição verdadeira: C[2]=20+3=23. Para os demais, a condição falha ou por A não ser > 18 ou por B ser par. Resultado: [9, 13, 23, 21, 35].",
        res7: "<b>Resolução:</b> A definição clássica de multiplicação de matrizes exige o acúmulo da soma dos produtos: C[i,j] += A[i,k] * B[k,j].",
        res8: "<b>Resolução:</b> II está correta (formato COO economiza espaço O(Z)). III está correta (acesso deixa de ser direto e fica mais complexo). I está incorreta porque matrizes densas 10k x 10k gastam memória excessiva com zeros.",
        res9: "<b>Resolução:</b> Rotação à direita em 2 posições: [10,20,30,40,50] -> [50,10,20,30,40] -> [40,50,10,20,30].",
        res10: "<b>Resolução:</b> O algoritmo contém um erro lógico: ele troca cada par (i,j) e (j,i) duas vezes. A primeira troca transpõe, a segunda 'destranspõe'. O resultado é a matriz original."
    };

    document.getElementById('quiz-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        let score = 0;
        const total = 10;
        const form = this;

        // Processar cada questão
        for (let i = 1; i <= total; i++) {
            const qName = 'q' + i;
            const selected = form.querySelector(`input[name="${qName}"]:checked`);
            const feedbackEl = form.querySelector(`.question-card[data-q="${i}"] .feedback`);
            const resolutionEl = document.getElementById('res-' + i);
            const questionCard = form.querySelector(`.question-card[data-q="${i}"]`);
            
            // Mostrar resolução
            resolutionEl.innerHTML = resolutions['res' + i];
            resolutionEl.style.display = 'block';
            feedbackEl.style.display = 'block';

            const correctAnswer = answers[qName];
            
            // Destacar opções corretas/erradas
            const options = questionCard.querySelectorAll('.option-item');
            options.forEach(opt => {
                const radio = opt.querySelector('input');
                if (radio.value === correctAnswer) {
                    opt.classList.add('correct-answer-highlight');
                }
                if (selected && radio.value === selected.value && selected.value !== correctAnswer) {
                    opt.classList.add('wrong-answer-highlight');
                }
            });

            if (selected && selected.value === correctAnswer) {
                score++;
                feedbackEl.innerText = "Correto!";
                feedbackEl.className = "feedback correct";
            } else {
                feedbackEl.innerText = `Incorreto. A resposta certa era ${correctAnswer}.`;
                feedbackEl.className = "feedback wrong";
            }
        }

        // Mostrar placar
        const resultsArea = document.getElementById('results-area');
        resultsArea.style.display = 'block';
        document.getElementById('score-text').innerText = `Você acertou ${score} de ${total} questões! (${(score/total)*100}%)`;
        
        // Desabilitar form e rolar para o topo do resultado
        form.querySelector('.btn-submit').style.display = 'none';
        resultsArea.scrollIntoView({ behavior: 'smooth' });
    });

    // Permitir clicar no card da opção para selecionar
    document.querySelectorAll('.option-item').forEach(item => {
        item.addEventListener('click', function() {
            const radio = this.querySelector('input');
            if (radio && !radio.disabled) {
                radio.checked = true;
            }
        });
    });
</script>

</body>
</html>