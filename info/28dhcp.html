<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Masterclass DHCP - Professor IFAM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #ffffff;
            color: #1a202c;
            line-height: 1.7;
        }
        .highlight {
            background-color: #fef08a; /* Amarelo suave para grifos */
            padding: 2px 4px;
            border-radius: 4px;
            font-weight: 600;
        }
        .section-title {
            border-left: 5px solid #2563eb;
            padding-left: 15px;
            margin-top: 2rem;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e3a8a;
        }
        .info-card {
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            background-color: #ffffff;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: white;
        }
        th, td {
            border: 1px solid #e2e8f0;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f8fafc;
            font-weight: 700;
            color: #334155;
        }
        .banca-alert {
            background-color: #fff7ed;
            border: 1px solid #fdba74;
            padding: 15px;
            border-radius: 8px;
            margin: 1rem 0;
        }
        .banca-alert strong {
            color: #c2410c;
        }
        @media (max-width: 640px) {
            th, td {
                padding: 8px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body class="max-w-5xl mx-auto px-4 py-8">

    <!-- Header & Audio -->
    <header class="text-center mb-12">
        <h1 class="text-4xl font-extrabold text-gray-900 mb-2">DHCP: Guia Definitivo para IFAM</h1>
        <p class="text-lg text-gray-600">Foco Total: Carreira EBTT - Banca Funda√ß√£o CEFETMINAS</p>
        
        <div class="mt-8 p-6 bg-gray-50 rounded-2xl border border-gray-200 inline-block w-full max-w-lg">
            <span class="block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3">üéß Resumo em √Åudio</span>
            <audio controls class="w-full">
                <!-- Espa√ßo para o nome do arquivo mp3 -->
                <source src="28dhcp.mp3" type="audio/mpeg">
                Seu navegador n√£o suporta o player de √°udio.
            </audio>
        </div>
    </header>

    <!-- 1. Introdu√ß√£o e Caracter√≠sticas -->
    <section>
        <h2 class="section-title">1. Defini√ß√£o e Caracter√≠sticas Essenciais</h2>
        <div class="info-card">
            <p>O <strong>Dynamic Host Configuration Protocol (DHCP)</strong> √© o sucessor do BOOTP. Sua fun√ß√£o prim√°ria √© a <span class="highlight">atribui√ß√£o din√¢mica de endere√ßos IP</span> e par√¢metros de rede.</p>
            <ul class="list-disc ml-6 mt-4 space-y-2">
                <li><strong>Camada:</strong> Aplica√ß√£o (Modelo OSI/TCP-IP).</li>
                <li><strong>Protocolo de Transporte:</strong> <span class="highlight">UDP</span>.</li>
                <li><strong>Arquitetura:</strong> Cliente-Servidor.</li>
                <li><strong>Portas:</strong> <span class="highlight">67 (Servidor)</span> e <span class="highlight">68 (Cliente)</span>.</li>
                <li><strong>Persist√™ncia:</strong> Armazena as atribui√ß√µes em um banco de dados de "Leases" (concess√µes).</li>
            </ul>
        </div>
    </section>

    <!-- 2. M√©todos de Aloca√ß√£o -->
    <section>
        <h2 class="section-title">2. M√©todos de Aloca√ß√£o de Endere√ßos</h2>
        <div class="info-card">
            <p class="mb-4">Diferente do que muitos pensam, o DHCP n√£o faz apenas aloca√ß√£o din√¢mica. Existem tr√™s tipos que caem em prova:</p>
            <table>
                <thead>
                    <tr>
                        <th>M√©todo</th>
                        <th>Descri√ß√£o T√©cnica</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Aloca√ß√£o Din√¢mica</strong></td>
                        <td>O servidor atribui um IP por um <span class="highlight">tempo limitado (Lease Time)</span>. O IP retorna ao pool ap√≥s o uso.</td>
                    </tr>
                    <tr>
                        <td><strong>Aloca√ß√£o Autom√°tica</strong></td>
                        <td>O DHCP atribui um IP permanente ao cliente no primeiro contato.</td>
                    </tr>
                    <tr>
                        <td><strong>Aloca√ß√£o Est√°tica (Reserva)</strong></td>
                        <td>O administrador mapeia um <span class="highlight">Endere√ßo MAC espec√≠fico</span> para um IP fixo no servidor.</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <!-- 3. Funcionamento DORA -->
    <section>
        <h2 class="section-title">3. O Processo de Quatro Etapas (D.O.R.A.)</h2>
        <div class="info-card">
            <p class="mb-4">Memorize a ordem e os tipos de transmiss√£o:</p>
            <table>
                <thead>
                    <tr>
                        <th>Ordem</th>
                        <th>Mensagem</th>
                        <th>Tipo de Transmiss√£o</th>
                        <th>Descri√ß√£o</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td><strong>DHCPDISCOVER</strong></td>
                        <td><span class="highlight">Broadcast</span></td>
                        <td>Cliente busca servidores ativos.</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td><strong>DHCPOFFER</strong></td>
                        <td>Unicast ou Broadcast</td>
                        <td>Servidor oferece configura√ß√£o (IP, M√°scara, GW).</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td><strong>DHCPREQUEST</strong></td>
                        <td><span class="highlight">Broadcast</span></td>
                        <td>Cliente aceita a oferta (avisa todos os servidores).</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td><strong>DHCPACK</strong></td>
                        <td>Unicast ou Broadcast</td>
                        <td>Servidor confirma e finaliza a concess√£o.</td>
                    </tr>
                </tbody>
            </table>
            <div class="banca-alert">
                <strong>üí° PEGUINHA CEFETMINAS:</strong> O <em>DHCPREQUEST</em> √© enviado em <strong>Broadcast</strong> n√£o porque o cliente n√£o sabe o IP do servidor, mas para que outros servidores que enviaram ofertas saibam que o cliente j√° escolheu um e liberem seus endere√ßos reservados.
            </div>
        </div>
    </section>

    <!-- 4. DHCP Relay Agent -->
    <section>
        <h2 class="section-title">4. Agente de Relay (RFC 1542)</h2>
        <div class="info-card">
            <p>Roteadores n√£o encaminham pacotes de Broadcast. Para o DHCP funcionar em m√∫ltiplas sub-redes:</p>
            <ul class="list-disc ml-6 mt-3 space-y-2">
                <li>O roteador deve estar configurado como <span class="highlight">DHCP Relay Agent</span>.</li>
                <li>Ele converte o Broadcast do cliente em um <strong>Unicast</strong> direcionado ao Servidor DHCP.</li>
                <li>Campo <strong>GIADDR</strong> (Gateway IP Address): O Relay preenche este campo no cabe√ßalho DHCP com seu pr√≥prio IP para que o servidor saiba de qual sub-rede deve retirar o IP para o cliente.</li>
            </ul>
        </div>
    </section>

    <!-- 5. DHCPv6 (Diferen√ßas Cr√≠ticas) -->
    <section>
        <h2 class="section-title">5. DHCPv6 vs DHCP IPv4</h2>
        <div class="info-card">
            <p class="mb-4">O DHCPv6 possui mudan√ßas radicais que a CEFETMINAS adora explorar em cargos de n√≠vel superior:</p>
            <table>
                <thead>
                    <tr>
                        <th>Caracter√≠stica</th>
                        <th>DHCP IPv4</th>
                        <th>DHCPv6 (IPv6)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Portas UDP</td>
                        <td>67 (S) / 68 (C)</td>
                        <td><span class="highlight">547 (S) / 546 (C)</span></td>
                    </tr>
                    <tr>
                        <td>Processo Principal</td>
                        <td>DORA</td>
                        <td><span class="highlight">SARR</span> (Solicit, Advertise, Request, Reply)</td>
                    </tr>
                    <tr>
                        <td>Default Gateway</td>
                        <td>Enviado pelo DHCP</td>
                        <td><span class="highlight text-red-600">N√ÉO enviado pelo DHCP</span> (Enviado pelo ICMPv6 RA)</td>
                    </tr>
                    <tr>
                        <td>Endere√ßos</td>
                        <td>Broadcast</td>
                        <td><span class="highlight">Multicast (ff02::1:2)</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <!-- 6. Seguran√ßa e Termos T√©cnicos -->
    <section>
        <h2 class="section-title">6. Seguran√ßa e Defini√ß√µes de Fronteira</h2>
        <div class="info-card">
            <ul class="space-y-4">
                <li>
                    <strong>DHCP Snooping:</strong> Recurso de seguran√ßa de Switch L2. Define portas "Confi√°veis" (Trusted) onde o servidor pode estar. Evita ataques de <span class="highlight">Rogue DHCP</span> (servidor falso).
                </li>
                <li>
                    <strong>DHCP Starvation:</strong> Ataque de nega√ß√£o de servi√ßo onde o invasor esgota todo o pool de IPs do servidor usando MACs forjados.
                </li>
                <li>
                    <strong>Option 82 (Relay Agent Information):</strong> Adiciona informa√ß√µes sobre o circuito/porta f√≠sica do switch de onde partiu a requisi√ß√£o.
                </li>
                <li>
                    <strong>APIPA (Automatic Private IP Addressing):</strong> Endere√ßos <span class="highlight">169.254.0.0/16</span>. Se o cliente n√£o encontra um servidor DHCP, ele se auto-atribui esse IP. √ötil para diagn√≥stico: "Se tem APIPA, o problema √© o DHCP ou o cabo".
                </li>
            </ul>
        </div>
    </section>

    <!-- 7. Tend√™ncias CEFETMINAS -->
    <section class="mb-12">
        <h2 class="section-title">7. An√°lise de Tend√™ncia: CEFETMINAS / EBTT</h2>
        <div class="banca-alert border-red-500 bg-red-50">
            <h4 class="font-bold text-red-800 mb-2">Checklist de Revis√£o Pr√©-Prova:</h4>
            <ol class="list-decimal ml-6 space-y-2 text-red-900">
                <li><strong>Estados de Renova√ß√£o:</strong> Lembre que o cliente tenta renovar em <span class="highlight">T1 (50%)</span> via Unicast e em <span class="highlight">T2 (87.5%)</span> via Broadcast.</li>
                <li><strong>Protocolo de Transporte:</strong> Jamais marque TCP. O DHCP precisa ser r√°pido e leve (UDP).</li>
                <li><strong>Camada OSI:</strong> Aplica√ß√£o. Muitas bancas tentam confundir com Rede por causa do "IP".</li>
                <li><strong>DHCPv6 Stateless vs Stateful:</strong> Stateless usa apenas para par√¢metros adicionais (DNS). Stateful gerencia os IPs.</li>
                <li><strong>Campo GIADDR:</strong> Fundamental para entender como o servidor sabe de qual sub-rede o cliente faz parte quando h√° um roteador no meio.</li>
            </ol>
        </div>
    </section>

    <!-- Bot√£o de Quest√µes -->
    <div class="text-center mt-12 pb-20">
        <a href="28questoes.html" class="inline-block bg-blue-700 hover:bg-blue-800 text-white font-bold py-5 px-10 rounded-xl shadow-xl transition-all transform hover:-translate-y-1">
            üöÄ Ir para Quest√µes de Fixa√ß√£o (P√°gina de Testes)
        </a>
        <p class="text-gray-400 text-xs mt-4">Documento preparado para fins de estudo intensivo - IFAM 2024/2025</p>
    </div>

</body>
</html>