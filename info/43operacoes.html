<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resumo Completo: Banco de Dados - IFAM/CEFETMINAS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.8;
            color: #334155; /* Slate 700 */
        }
        h1, h2, h3, h4 {
            color: #0f172a; /* Slate 900 */
        }
        .highlight {
            background-color: #fef08a; /* Yellow 200 */
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
            color: #000;
        }
        .highlight-danger {
            background-color: #fecaca; /* Red 200 */
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
            color: #7f1d1d;
        }
        .section-divider {
            border-bottom: 2px solid #e2e8f0;
            margin-top: 3rem;
            margin-bottom: 2rem;
        }
        /* Tabela responsiva sem scroll horizontal */
        table {
            table-layout: fixed;
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 12px;
            border: 1px solid #cbd5e1;
            word-wrap: break-word; /* Quebra palavras longas */
            overflow-wrap: break-word;
            vertical-align: top;
        }
        th {
            background-color: #f1f5f9;
        }
        /* Card de Destaque */
        .concept-card {
            background-color: #fff;
            border: 1px solid #e2e8f0;
            border-left: 4px solid #3b82f6; /* Blue 500 */
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body class="bg-white antialiased">

    <div class="max-w-4xl mx-auto px-4 py-8 sm:px-6">
        
        <!-- Header -->
        <header class="text-center mb-10">
            <h1 class="text-4xl font-extrabold tracking-tight mb-3">
                Resumo Mestre: Banco de Dados
            </h1>
            <p class="text-xl text-slate-600 font-light">
                Foco total: IFAM - Cargo Professor EBTT (Banca Fundação CEFETMINAS)
            </p>
            <div class="mt-4 inline-block bg-slate-100 px-4 py-2 rounded-full text-sm font-semibold text-slate-700">
                <i class="fas fa-book-open mr-2"></i>Teoria + Operações + Tendências
            </div>
        </header>

        <!-- Player de Áudio -->
        <div class="bg-slate-50 border border-slate-200 rounded-xl p-6 mb-12 shadow-sm flex flex-col items-center">
            <label class="text-sm font-bold text-slate-500 mb-3 uppercase tracking-wider">
                <i class="fas fa-play-circle mr-2"></i>Áudio Aula de Fixação
            </label>
            <!-- Substitua 'resumo_audio.mp3' pelo nome real do arquivo -->
            <audio controls class="w-full sm:w-3/4 h-12">
                <source src="43operacoes.mp3" type="audio/mpeg">
                Seu navegador não suporta o elemento de áudio.
            </audio>
        </div>

        <!-- CONTEÚDO PRINCIPAL -->
        
        <!-- 1. FUNDAMENTOS -->
        <section>
            <h2 class="text-2xl font-bold mb-4 flex items-center">
                <span class="bg-slate-800 text-white w-8 h-8 rounded flex items-center justify-center text-sm mr-3">1</span>
                Conceitos Fundamentais e Arquitetura
            </h2>
            
            <p class="mb-4 text-justify">
                <strong>Definição de BD:</strong> Coleção de dados inter-relacionados, representando informações sobre um domínio específico.
                <br><strong>SGBD (Sistema Gerenciador):</strong> Software que incorpora as funções de definição, recuperação e alteração de dados (Ex: PostgreSQL, Oracle).
            </p>

            <div class="concept-card">
                <h3 class="font-bold text-lg mb-2 text-blue-800">Arquitetura ANSI/SPARC (Os 3 Níveis)</h3>
                <ul class="list-disc pl-5 space-y-2 text-slate-700">
                    <li><strong>Nível Externo (Visão):</strong> O mais próximo do usuário. Define como cada grupo de usuários vê os dados (Ex: Views SQL). <span class="highlight">Foco: Segurança e Simplificação.</span></li>
                    <li><strong>Nível Conceitual (Lógico):</strong> Descreve <em>quais</em> dados são armazenados e seus relacionamentos. <span class="highlight">Independente de Hardware e SGBD físico.</span> É aqui que o DBA atua no design.</li>
                    <li><strong>Nível Interno (Físico):</strong> Descreve <em>como</em> os dados são gravados (estruturas de arquivos, índices B-Tree, Hashing). Otimização de performance.</li>
                </ul>
            </div>

            <p class="mb-6 bg-yellow-50 p-4 rounded border border-yellow-100 text-sm">
                <strong>⚠️ Ponto de Prova:</strong> A capacidade de alterar o esquema em um nível sem afetar o nível superior chama-se <strong>Independência de Dados</strong> (Lógica ou Física).
            </p>
        </section>

        <div class="section-divider"></div>

        <!-- 2. MODELAGEM DE DADOS (MER) -->
        <section>
            <h2 class="text-2xl font-bold mb-4 flex items-center">
                <span class="bg-slate-800 text-white w-8 h-8 rounded flex items-center justify-center text-sm mr-3">2</span>
                Modelagem Entidade-Relacionamento (MER)
            </h2>

            <div class="mb-6">
                <h3 class="font-bold text-lg mb-2">Elementos Essenciais</h3>
                <ul class="space-y-3">
                    <li class="pl-4 border-l-2 border-slate-300">
                        <strong>Entidade:</strong> "Coisa" do mundo real (Aluno, Curso).
                        <br><em>Forte:</em> Existe por si só.
                        <br><em>Fraca:</em> Depende de outra para existir (ex: Dependente de Funcionário).
                    </li>
                    <li class="pl-4 border-l-2 border-slate-300">
                        <strong>Atributos:</strong> Características.
                        <br><em>Simples/Atômico:</em> Indivisível (CPF).
                        <br><em>Composto:</em> Subdividido (Endereço -> Rua, CEP).
                        <br><em>Multivalorado:</em> Vários valores (Telefones).
                        <br><em>Derivado:</em> Calculado a partir de outro (Idade a partir de DataNasc).
                    </li>
                    <li class="pl-4 border-l-2 border-slate-300">
                        <strong>Relacionamentos e Cardinalidade:</strong>
                        <br>(1:1) Um para Um.
                        <br>(1:N) Um para Muitos <span class="text-sm text-slate-500">(Mais comum. Chave do lado 1 vai para o lado N).</span>
                        <br>(N:M) Muitos para Muitos <span class="highlight">Gera nova tabela</span> contendo as chaves primárias de ambos.
                    </li>
                </ul>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- 3. MODELO RELACIONAL E CHAVES -->
        <section>
            <h2 class="text-2xl font-bold mb-4 flex items-center">
                <span class="bg-slate-800 text-white w-8 h-8 rounded flex items-center justify-center text-sm mr-3">3</span>
                Modelo Relacional: Chaves e Integridade
            </h2>

            <!-- Tabela de Conceitos de Chaves -->
            <div class="mb-8">
                <h3 class="font-bold text-lg mb-3">Hierarquia das Chaves (Decore isto!)</h3>
                <div class="overflow-hidden rounded-lg border border-slate-200">
                    <table>
                        <thead>
                            <tr>
                                <th class="w-1/3">Conceito</th>
                                <th>Definição Prática</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="font-semibold text-slate-800">Superchave</td>
                                <td>Qualquer conjunto de atributos que identifica unicamente uma tupla (pode ter atributos sobrando).</td>
                            </tr>
                            <tr>
                                <td class="font-semibold text-slate-800">Chave Candidata</td>
                                <td>Superchave mínima (irredutível). Se tirar um atributo, perde a unicidade.</td>
                            </tr>
                            <tr>
                                <td class="font-semibold text-slate-800">Chave Primária (PK)</td>
                                <td>A Candidata "escolhida" para ser o identificador principal. <span class="highlight">NÃO ACEITA NULL</span>.</td>
                            </tr>
                            <tr>
                                <td class="font-semibold text-slate-800">Chave Alternativa</td>
                                <td>As candidatas que não foram escolhidas como primária.</td>
                            </tr>
                            <tr>
                                <td class="font-semibold text-slate-800">Chave Estrangeira (FK)</td>
                                <td>Atributo que referencia a PK de outra tabela. Garante a Integridade Referencial. Pode ser NULL (se a regra permitir).</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="concept-card bg-red-50 border-red-200 border-l-red-500">
                <h3 class="font-bold text-lg mb-2 text-red-800">Regras de Integridade Referencial</h3>
                <p class="mb-2">O que acontece se eu apagar um pai que tem filhos (FK)?</p>
                <ul class="list-square pl-5 space-y-1 text-slate-800">
                    <li><strong>RESTRICT / NO ACTION:</strong> Padrão. O banco <span class="highlight-danger">BLOQUEIA</span> a exclusão. Dá erro.</li>
                    <li><strong>CASCADE:</strong> Exclui o pai e <span class="highlight-danger">exclui automaticamente</span> todos os filhos. Perigoso.</li>
                    <li><strong>SET NULL:</strong> Exclui o pai e os filhos ficam com campo NULL na FK.</li>
                </ul>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- 4. OPERAÇÕES COM BANCO DE DADOS (SQL) -->
        <section>
            <h2 class="text-2xl font-bold mb-4 flex items-center">
                <span class="bg-slate-800 text-white w-8 h-8 rounded flex items-center justify-center text-sm mr-3">4</span>
                SQL e Operações (O Coração da Prova)
            </h2>

            <!-- Classificação SQL Completa -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <div class="border p-4 rounded bg-slate-50">
                    <h4 class="font-bold text-slate-800 border-bottom mb-2">DDL (Definição)</h4>
                    <p class="text-sm">Estrutura do banco.</p>
                    <code class="text-xs bg-white p-1 rounded border block mt-1">CREATE, ALTER, DROP, TRUNCATE, RENAME</code>
                </div>
                <div class="border p-4 rounded bg-slate-50">
                    <h4 class="font-bold text-slate-800 border-bottom mb-2">DML (Manipulação)</h4>
                    <p class="text-sm">Dados internos.</p>
                    <code class="text-xs bg-white p-1 rounded border block mt-1">INSERT, UPDATE, DELETE</code>
                </div>
                <div class="border p-4 rounded bg-slate-50">
                    <h4 class="font-bold text-slate-800 border-bottom mb-2">DQL (Consulta)</h4>
                    <p class="text-sm">Busca.</p>
                    <code class="text-xs bg-white p-1 rounded border block mt-1">SELECT</code>
                </div>
                <div class="border p-4 rounded bg-slate-50">
                    <h4 class="font-bold text-slate-800 border-bottom mb-2">TCL & DCL</h4>
                    <p class="text-sm">Controle e Transação.</p>
                    <code class="text-xs bg-white p-1 rounded border block mt-1">GRANT, REVOKE | COMMIT, ROLLBACK</code>
                </div>
            </div>

            <!-- JOINS e Agregações -->
            <div class="space-y-6">
                <div>
                    <h3 class="font-bold text-lg mb-2">Operações de Junção (JOIN)</h3>
                    <ul class="list-disc pl-5 space-y-2 text-slate-700">
                        <li><strong>INNER JOIN:</strong> Interseção. Só traz se existir nas duas.</li>
                        <li><strong>LEFT JOIN:</strong> Prioridade esquerda. Traz tudo da tabela 1, e NULL na tabela 2 se não achar par.</li>
                        <li><strong>RIGHT JOIN:</strong> Prioridade direita.</li>
                        <li><strong>FULL OUTER JOIN:</strong> União completa (Tudo de A + Tudo de B).</li>
                        <li><strong>CROSS JOIN:</strong> Produto cartesiano (sem cláusula ON). Cuidado!</li>
                    </ul>
                </div>

                <div>
                    <h3 class="font-bold text-lg mb-2">Funções de Agregação e "Peguinhas"</h3>
                    <p class="mb-2 text-sm">Usadas frequentemente com <code>GROUP BY</code>.</p>
                    <div class="overflow-hidden rounded-lg border border-slate-200">
                        <table class="text-sm">
                            <thead class="bg-slate-100">
                                <tr><th>Função</th><th>Descrição</th><th>Detalhe Crítico</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>COUNT(*)</strong></td><td>Conta linhas totais</td><td>Conta inclusive NULLs.</td></tr>
                                <tr><td><strong>COUNT(col)</strong></td><td>Conta valores na coluna</td><td><span class="highlight">Ignora NULLs</span>.</td></tr>
                                <tr><td><strong>SUM / AVG</strong></td><td>Soma / Média</td><td>Só dados numéricos.</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div>
                    <h3 class="font-bold text-lg mb-2">Cláusula HAVING vs WHERE</h3>
                    <p class="text-slate-700 bg-blue-50 p-3 rounded border border-blue-100">
                        <strong>WHERE:</strong> Filtra linhas <em>antes</em> de agrupar. Não aceita agregações (ex: <code>WHERE SUM(x) > 10</code> dá erro).
                        <br><strong>HAVING:</strong> Filtra grupos <em>depois</em> do GROUP BY. Aceita agregações (ex: <code>HAVING SUM(x) > 10</code>).
                    </p>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- 5. TRANSAÇÕES E NORMALIZAÇÃO -->
        <section>
            <h2 class="text-2xl font-bold mb-4 flex items-center">
                <span class="bg-slate-800 text-white w-8 h-8 rounded flex items-center justify-center text-sm mr-3">5</span>
                Transações e Normalização
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- ACID -->
                <div>
                    <h3 class="font-bold text-lg mb-2 text-slate-900">Propriedades ACID</h3>
                    <ul class="list-disc pl-4 space-y-2 text-sm">
                        <li><strong>Atomicidade:</strong> Transação é indivisível.</li>
                        <li><strong>Consistência:</strong> Respeita todas as regras (constraints).</li>
                        <li><strong>Isolamento:</strong> Execuções simultâneas não interferem.</li>
                        <li><strong>Durabilidade:</strong> Commit = Gravação permanente.</li>
                    </ul>
                </div>

                <!-- Formas Normais -->
                <div>
                    <h3 class="font-bold text-lg mb-2 text-slate-900">Normalização (FN)</h3>
                    <ul class="list-disc pl-4 space-y-2 text-sm">
                        <li><strong>1FN:</strong> Atomicidade. Fim dos atributos multivalorados e compostos. Define a PK.</li>
                        <li><strong>2FN:</strong> <span class="highlight">Requer 1FN</span>. Elimina dependência parcial (atributos dependem da chave inteira, não de parte dela). Só se aplica a chaves compostas.</li>
                        <li><strong>3FN:</strong> <span class="highlight">Requer 2FN</span>. Elimina dependência transitiva (atributo depende de outro atributo não chave).</li>
                    </ul>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- 6. TENDÊNCIAS BANCA CEFETMINAS -->
        <section class="bg-slate-50 p-6 rounded-lg border border-slate-200">
            <h2 class="text-2xl font-bold mb-4 text-slate-900">
                <i class="fas fa-bullseye mr-2 text-red-600"></i>
                Raio-X: Tendências Fundação CEFETMINAS (EBTT)
            </h2>
            <div class="space-y-4">
                <p class="text-slate-700">
                    A banca CEFETMINAS possui um perfil técnico e acadêmico. Em provas para professores de Informática, atente-se a:
                </p>
                <ul class="list-none space-y-3">
                    <li class="flex items-start">
                        <i class="fas fa-check text-green-600 mt-1 mr-3"></i>
                        <div>
                            <strong>Conceitos Literais:</strong> Eles cobram definições exatas de livros clássicos (Navathe/Elmasri, Date). Ex: Diferença exata entre <em>Schema</em> (intensão) e <em>Estado</em> (extensão).
                        </div>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-check text-green-600 mt-1 mr-3"></i>
                        <div>
                            <strong>Sintaxe SQL:</strong> Questões pedindo para identificar o erro na string SQL. Cuidado com vírgulas faltantes, ordem do GROUP BY/HAVING e aspas em strings.
                        </div>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-check text-green-600 mt-1 mr-3"></i>
                        <div>
                            <strong>Diagramas ER:</strong> Interpretação de diagramas. Saber identificar cardinalidade (0..1, 1..n) apenas olhando o desenho.
                        </div>
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-check text-green-600 mt-1 mr-3"></i>
                        <div>
                            <strong>Views e Segurança:</strong> O uso de Views como mecanismo de segurança (esconder colunas sensíveis) é um tema recorrente em concursos federais.
                        </div>
                    </li>
                </ul>
            </div>
        </section>

        <!-- Botão Final -->
        <div class="mt-16 text-center pb-12">
            <a href="43questoes.html" class="inline-flex items-center justify-center px-10 py-4 border border-transparent text-xl font-medium rounded-lg text-white bg-slate-900 hover:bg-slate-800 transition-all shadow-lg hover:shadow-2xl hover:-translate-y-1">
                <i class="fas fa-pen-alt mr-3"></i>
                Resolver Questões
            </a>
            <p class="mt-4 text-slate-500 text-sm">
                Material consolidado para aprovação no IFAM.
            </p>
        </div>

    </div>
</body>
</html>