<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resumo SQL - IFAM (CEFETMINAS)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #ffffff;
            color: #1a202c; /* Cinza muito escuro para leitura confortável */
        }
        
        /* Estilização para tabelas quebrarem linha e não gerarem scroll */
        table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed; /* Força colunas a respeitarem a largura */
        }
        
        td, th {
            word-wrap: break-word; /* Quebra palavras longas */
            overflow-wrap: break-word;
            white-space: normal; /* Permite quebra de linha */
            padding: 12px;
            border: 1px solid #e2e8f0;
            vertical-align: top;
        }

        th {
            background-color: #f7fafc;
            font-weight: 700;
            color: #2d3748;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.05em;
        }

        /* Destaques importantes */
        .highlight {
            background-color: #fffbeb; /* Amarelo muito suave */
            font-weight: 700;
            color: #b7791f;
            padding: 0 4px;
            border-radius: 4px;
        }

        .highlight-danger {
            color: #c53030;
            font-weight: 700;
            background-color: #fff5f5;
            padding: 0 4px;
            border-radius: 4px;
        }

        h2 {
            border-bottom: 2px solid #edf2f7;
            padding-bottom: 0.5rem;
            margin-top: 2.5rem;
            margin-bottom: 1.5rem;
            color: #2d3748;
        }

        /* Ajuste do player de áudio */
        audio {
            width: 100%;
            height: 40px;
            border-radius: 20px;
            background-color: #f7fafc;
        }
    </style>
</head>
<body class="antialiased leading-relaxed">

    <!-- Container Principal -->
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10">

        <!-- Reprodutor de Áudio -->
        <div class="bg-gray-50 border border-gray-200 rounded-lg p-6 mb-8 shadow-sm text-center">
            <h3 class="text-sm font-bold text-gray-500 uppercase tracking-wide mb-3">
                <i class="fas fa-headphones-alt mr-2"></i>Áudio Aula
            </h3>
            <!-- INSIRA O NOME DO SEU ARQUIVO AQUI NO 'src' -->
            <audio controls>
                <source src="42sql.mp3" type="audio/mpeg">
                Seu navegador não suporta o elemento de áudio.
            </audio>
            <p class="text-xs text-gray-400 mt-2">Dica: Ouça enquanto lê para dupla fixação.</p>
        </div>

        <!-- Cabeçalho -->
        <header class="mb-10 text-center">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 mb-4">
                Resumo de Alta Performance: Banco de Dados e SQL
            </h1>
            <p class="text-lg text-gray-600 font-medium">
                Foco total no IFAM (Banca CEFETMINAS)
            </p>
            <p class="text-sm text-gray-500 mt-2">
                Este documento condensa 15.000 palavras de teoria em "gatilhos de memória".
            </p>
        </header>

        <!-- Conteúdo Principal -->
        <main>

            <!-- Seção 1 -->
            <section>
                <h2 class="text-2xl font-bold flex items-center">
                    <span class="bg-gray-200 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3">1</span>
                    Taxonomia dos Comandos (O "Quem é Quem")
                </h2>
                <p class="mb-4 text-gray-700 italic">A banca adora confundir a classificação. Decore a sigla e a exceção.</p>
                
                <div class="overflow-hidden rounded-lg border border-gray-200 mb-6">
                    <table>
                        <thead>
                            <tr>
                                <th class="w-1/6">Cat.</th>
                                <th class="w-1/6">Sigla</th>
                                <th class="w-1/3">Comandos Chave</th>
                                <th class="w-1/3">PEGADINHA DA BANCA</th>
                            </tr>
                        </thead>
                        <tbody class="text-sm">
                            <tr>
                                <td class="font-bold">Definição</td>
                                <td class="text-center font-mono font-bold text-blue-700">DDL</td>
                                <td class="font-mono">CREATE, ALTER, DROP, TRUNCATE, RENAME</td>
                                <td><span class="highlight-danger">TRUNCATE é DDL</span>, não DML! (Reseta estrutura, rápido, sem log linha a linha).</td>
                            </tr>
                            <tr>
                                <td class="font-bold">Manipulação</td>
                                <td class="text-center font-mono font-bold text-blue-700">DML</td>
                                <td class="font-mono">INSERT, UPDATE, DELETE, MERGE</td>
                                <td><span class="highlight">DELETE é DML</span> (tem rollback). TRUNCATE muitas vezes não tem.</td>
                            </tr>
                            <tr>
                                <td class="font-bold">Consulta</td>
                                <td class="text-center font-mono font-bold text-blue-700">DQL</td>
                                <td class="font-mono">SELECT</td>
                                <td>Às vezes agrupado no DML, mas se houver distinção, é DQL.</td>
                            </tr>
                            <tr>
                                <td class="font-bold">Controle</td>
                                <td class="text-center font-mono font-bold text-blue-700">DCL</td>
                                <td class="font-mono">GRANT, REVOKE</td>
                                <td>Controla <span class="highlight">Acessos</span>, não transações.</td>
                            </tr>
                            <tr>
                                <td class="font-bold">Transação</td>
                                <td class="text-center font-mono font-bold text-blue-700">TCL</td>
                                <td class="font-mono">COMMIT, ROLLBACK, SAVEPOINT</td>
                                <td>Garante o ACID. <span class="highlight">SAVEPOINT</span> volta a um ponto parcial.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Seção 2 -->
            <section>
                <h2 class="text-2xl font-bold flex items-center">
                    <span class="bg-gray-200 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3">2</span>
                    A Lógica do NULL (O "Matador de Questões")
                </h2>
                <div class="bg-white border-l-4 border-red-500 p-4 shadow-sm mb-6">
                    <p class="font-bold text-red-700 mb-2">ERRO #1 EM PROVAS!</p>
                    <ul class="list-none space-y-3">
                        <li>
                            <i class="fas fa-exclamation-circle text-red-500 mr-2"></i>
                            <strong>Regra de Ouro:</strong> <span class="highlight">NULL não é zero</span>, não é espaço em branco. É <strong>AUSÊNCIA</strong>.
                        </li>
                        <li>
                            <i class="fas fa-calculator text-gray-400 mr-2"></i>
                            <strong>Aritmética:</strong> <code>10 + NULL = NULL</code>. Qualquer conta com NULL resulta em NULL.
                        </li>
                        <li>
                            <i class="fas fa-not-equal text-gray-400 mr-2"></i>
                            <strong>Comparação (3VL):</strong>
                            <div class="ml-6 mt-1 text-gray-600">
                                <code>NULL = NULL</code> ➔ <strong>UNKNOWN</strong> (Não é TRUE, nem FALSE).<br>
                                <span class="highlight-danger">NUNCA USE</span> <code>WHERE col = NULL</code>.<br>
                                <span class="highlight">USE</span> <code>WHERE col IS NULL</code>.
                            </div>
                        </li>
                        <li>
                            <i class="fas fa-bomb text-red-500 mr-2"></i>
                            <strong>O Perigo do NOT IN:</strong>
                            <div class="ml-6 mt-1 p-2 bg-gray-50 rounded border border-gray-100">
                                <code>valor NOT IN (1, 2, NULL)</code> ➔ Retorna <span class="highlight-danger">VAZIO (Zero linhas)</span>.<br>
                                <em class="text-sm text-gray-500">Motivo: O banco avalia (val <> NULL) como Unknown, falhando a expressão.</em>
                            </div>
                        </li>
                    </ul>
                </div>
            </section>

            <!-- Seção 3 -->
            <section>
                <h2 class="text-2xl font-bold flex items-center">
                    <span class="bg-gray-200 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3">3</span>
                    Ordem de Execução da Query
                </h2>
                <p class="mb-4 text-gray-600">Essencial para questões de "Qual o resultado da query?". Lembre-se: <span class="font-bold">Não é a ordem de leitura!</span></p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <ol class="list-decimal list-inside space-y-2 font-medium text-gray-800 bg-gray-50 p-5 rounded-lg border border-gray-200">
                        <li><strong>FROM / JOIN</strong> (Pega as tabelas)</li>
                        <li><strong>WHERE</strong> <span class="text-sm font-normal text-gray-600 ml-1">(Filtra linhas <strong>antes</strong> de agrupar. Sem SUM/AVG!)</span></li>
                        <li><strong>GROUP BY</strong> (Agrupa)</li>
                        <li><strong>HAVING</strong> <span class="text-sm font-normal text-gray-600 ml-1">(Filtra grupos. <span class="highlight">Aceita agregações</span>)</span></li>
                    </ol>
                    <ol start="5" class="list-decimal list-inside space-y-2 font-medium text-gray-800 bg-gray-50 p-5 rounded-lg border border-gray-200">
                        <li><strong>SELECT</strong> (Escolhe colunas e Window Functions)</li>
                        <li><strong>DISTINCT</strong> (Remove duplicatas)</li>
                        <li><strong>ORDER BY</strong> <span class="text-sm font-normal text-gray-600 ml-1">(Único lugar que aceita Alias do SELECT)</span></li>
                        <li><strong>LIMIT / OFFSET</strong> (Pagina)</li>
                    </ol>
                </div>
            </section>

            <!-- Seção 4 -->
            <section>
                <h2 class="text-2xl font-bold flex items-center">
                    <span class="bg-gray-200 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3">4</span>
                    Agregações e Agrupamentos
                </h2>
                <ul class="space-y-3 ml-2">
                    <li class="flex items-start">
                        <span class="text-blue-500 mr-2 mt-1">●</span>
                        <div>
                            <code class="font-bold text-blue-800">COUNT(*)</code>: Conta <strong>TUDO</strong> (incluindo NULLs).
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="text-blue-500 mr-2 mt-1">●</span>
                        <div>
                            <code class="font-bold text-blue-800">COUNT(coluna)</code>: Conta <strong>SÓ</strong> o que <span class="highlight-danger">não é NULL</span>.
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="text-blue-500 mr-2 mt-1">●</span>
                        <div class="bg-yellow-50 p-2 rounded border border-yellow-100 w-full">
                            <strong>Regra do GROUP BY:</strong> Se você usou <code>GROUP BY setor</code>, o SELECT só pode conter <code>setor</code> ou funções de agregação (SUM, AVG). <span class="highlight">Colocar outra coluna solta dá erro!</span>
                        </div>
                    </li>
                </ul>
            </section>

            <!-- Seção 5 -->
            <section>
                <h2 class="text-2xl font-bold flex items-center">
                    <span class="bg-gray-200 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3">5</span>
                    Batalha de SGBDs: Oracle vs. PostgreSQL
                </h2>
                <p class="mb-4 text-gray-700">A CEFETMINAS ama cobrar essas diferenças sutis.</p>

                <div class="overflow-hidden rounded-lg border border-gray-200 mb-6">
                    <table>
                        <thead>
                            <tr>
                                <th class="w-1/4">Característica</th>
                                <th class="w-1/3 bg-red-50 text-red-900">Oracle (O Rígido)</th>
                                <th class="w-1/3 bg-blue-50 text-blue-900">PostgreSQL (O Flexível)</th>
                            </tr>
                        </thead>
                        <tbody class="text-sm">
                            <tr>
                                <td class="font-bold">String Vazia</td>
                                <td><code>''</code> <strong>É IGUAL A</strong> <code>NULL</code>. <br><span class="text-xs text-red-600 font-bold">(Pegadinha Clássica!)</span></td>
                                <td><code>''</code> <strong>É DIFERENTE DE</strong> <code>NULL</code>.</td>
                            </tr>
                            <tr>
                                <td class="font-bold">Data Atual</td>
                                <td class="font-mono">SYSDATE</td>
                                <td class="font-mono">CURRENT_DATE, NOW()</td>
                            </tr>
                            <tr>
                                <td class="font-bold">Limitar Linhas</td>
                                <td><code>ROWNUM</code> (Velho) ou <code>FETCH FIRST...</code></td>
                                <td><code>LIMIT n OFFSET m</code></td>
                            </tr>
                            <tr>
                                <td class="font-bold">Concatenação (||)</td>
                                <td>Se um lado for NULL, <span class="highlight">ignora</span> e concatena o resto.</td>
                                <td>Se um lado for NULL, <span class="highlight-danger">TUDO vira NULL</span>.</td>
                            </tr>
                            <tr>
                                <td class="font-bold">Tratar Nulos</td>
                                <td class="font-mono">NVL(col, 0)</td>
                                <td class="font-mono">COALESCE(col, 0) <span class="text-xs text-gray-500">(ANSI)</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Seção 6 -->
            <section>
                <h2 class="text-2xl font-bold flex items-center">
                    <span class="bg-gray-200 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3">6</span>
                    Joins em 1 Minuto (Diagrama Mental)
                </h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm">
                    <div class="p-4 border border-gray-200 rounded hover:bg-gray-50 transition">
                        <strong class="text-lg text-gray-800 block mb-1">INNER JOIN</strong>
                        Só quem tem par (Interseção).
                    </div>
                    <div class="p-4 border border-gray-200 rounded hover:bg-gray-50 transition">
                        <strong class="text-lg text-gray-800 block mb-1">LEFT JOIN</strong>
                        Todos da Esquerda + Correspondentes da Direita (quem não tem par fica NULL).
                    </div>
                    <div class="p-4 border border-gray-200 rounded hover:bg-gray-50 transition">
                        <strong class="text-lg text-gray-800 block mb-1">RIGHT JOIN</strong>
                        O inverso do LEFT.
                    </div>
                    <div class="p-4 border border-gray-200 rounded hover:bg-gray-50 transition">
                        <strong class="text-lg text-gray-800 block mb-1">FULL JOIN</strong>
                        Traz tudo. Quem não tem par fica com NULL no lado oposto.
                    </div>
                    <div class="p-4 border border-red-200 bg-red-50 rounded sm:col-span-2">
                        <strong class="text-lg text-red-800 block mb-1">CROSS JOIN</strong>
                        Produto Cartesiano (Linhas A <strong>x</strong> Linhas B). <span class="font-bold">Perigo de performance.</span>
                    </div>
                </div>
            </section>

            <!-- Seção 7 -->
            <section>
                <h2 class="text-2xl font-bold flex items-center">
                    <span class="bg-gray-200 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3">7</span>
                    Mnemônicos Finais
                </h2>
                <ul class="space-y-4">
                    <li class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                        <strong class="text-indigo-700 text-lg">DROP vs TRUNCATE</strong>
                        <p class="mt-1 text-gray-700"><code>DROP</code> derruba a casa (tabela some). <code>TRUNCATE</code> limpa a mobília (tabela fica vazia, mas existe).</p>
                    </li>
                    <li class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                        <strong class="text-indigo-700 text-lg">HAVING vs WHERE</strong>
                        <p class="mt-1 text-gray-700"><code>WHERE</code> filtra indivíduo (linha). <code>HAVING</code> filtra a galera (grupo).</p>
                    </li>
                    <li class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                        <strong class="text-indigo-700 text-lg">UNION vs UNION ALL</strong>
                        <p class="mt-1 text-gray-700"><code>UNION</code> gasta energia para limpar duplicatas. <code>UNION ALL</code> é preguiçoso e traz tudo (mais rápido).</p>
                    </li>
                </ul>
            </section>

        </main>

        <!-- Botão Final -->
        <footer class="mt-16 text-center pb-10">
            <a href="42questoes.html" class="inline-flex items-center justify-center px-8 py-4 border border-transparent text-lg font-bold rounded-full text-white bg-gray-900 hover:bg-gray-800 transform hover:-translate-y-1 transition duration-200 shadow-lg">
                <i class="fas fa-pen-alt mr-3"></i>
                Ir para Questões
            </a>
            <p class="text-gray-400 text-sm mt-4">Treine o que você acabou de revisar.</p>
        </footer>

    </div>

</body>
</html>